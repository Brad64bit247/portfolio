<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">.lst-kix_hf8hj52lmkvt-7>li:before{content:"\0025cb  "}.lst-kix_hf8hj52lmkvt-6>li:before{content:"\0025cf  "}ul.lst-kix_hf8hj52lmkvt-8{list-style-type:none}ul.lst-kix_hf8hj52lmkvt-6{list-style-type:none}ul.lst-kix_hf8hj52lmkvt-7{list-style-type:none}ul.lst-kix_hf8hj52lmkvt-4{list-style-type:none}ul.lst-kix_hf8hj52lmkvt-5{list-style-type:none}li.li-bullet-0:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}ul.lst-kix_hf8hj52lmkvt-2{list-style-type:none}.lst-kix_hf8hj52lmkvt-0>li:before{content:"\0025cf  "}ul.lst-kix_hf8hj52lmkvt-3{list-style-type:none}.lst-kix_hf8hj52lmkvt-8>li:before{content:"\0025a0  "}ul.lst-kix_hf8hj52lmkvt-0{list-style-type:none}ul.lst-kix_hf8hj52lmkvt-1{list-style-type:none}.lst-kix_hf8hj52lmkvt-1>li:before{content:"\0025cb  "}.lst-kix_hf8hj52lmkvt-2>li:before{content:"\0025a0  "}.lst-kix_hf8hj52lmkvt-3>li:before{content:"\0025cf  "}.lst-kix_hf8hj52lmkvt-5>li:before{content:"\0025a0  "}.lst-kix_hf8hj52lmkvt-4>li:before{content:"\0025cb  "}ol{margin:0;padding:0}table td,table th{padding:0}.c10{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:20pt;font-family:"Arial";font-style:normal}.c0{padding-top:18pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:center}.c1{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c8{padding-top:20pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:center}.c9{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:16pt;font-family:"Arial";font-style:normal}.c3{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left;height:11pt}.c2{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:center;height:11pt}.c4{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:center}.c5{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c6{margin-left:36pt;padding-left:0pt}.c7{padding:0;margin:0}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c5"><h1 class="c8" id="h.1chvi0mkbr2g"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 197.00px; height: 171.00px;"><img alt="" src="images/image3.png" style="width: 197.00px; height: 171.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></h1><h1 class="c8" id="h.mlixmw4crgwe"><span class="c10">Hack the box - Lame</span></h1><h2 class="c0" id="h.qfk69sojh5jk"><span class="c9">Machine objectives</span></h2><ul class="c7 lst-kix_hf8hj52lmkvt-0 start"><li class="c4 c6 li-bullet-0"><span class="c1">Obtain foothold on machine</span></li><li class="c4 c6 li-bullet-0"><span class="c1">Obtain root access</span></li><li class="c4 c6 li-bullet-0"><span class="c1">Find and submit flags</span></li></ul><p class="c3"><span class="c1"></span></p><h2 class="c0" id="h.g0x4ocuvq4d4"><span class="c9">Obtain foothold in machine as user</span></h2><p class="c4"><span>First we have to enumerate and &nbsp;find an entry point into the machine. I do this by scanning the environment using nmap</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 138.67px;"><img alt="" src="images/image5.png" style="width: 624.00px; height: 138.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span class="c1"></span></p><p class="c4"><span class="c1">We can see that there is a Samba for file sharing. This looks like a good entry point to inject a file. I am going to do this the easy way and see if Metasploit has an existing exploit to get in through Samba.</span></p><p class="c4"><span class="c1">&nbsp;</span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c4"><span>I then have to set my target for the exploit and the return IP for the shell.</span></p><p class="c4"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 37.33px;"><img alt="" src="images/image8.png" style="width: 624.00px; height: 37.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c4"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 41.33px;"><img alt="" src="images/image1.png" style="width: 624.00px; height: 41.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c4"><span class="c1">I launch my script and then upgrade my shell into a bash terminal so that it is more stable</span></p><p class="c2"><span class="c1"></span></p><p class="c4"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 137.33px;"><img alt="" src="images/image6.png" style="width: 624.00px; height: 137.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span class="c1"></span></p><p class="c4"><span class="c1">I was expecting to have to do privilege escalation but it turns out I have root access to start. I feel lucky!</span></p><p class="c2"><span class="c1"></span></p><p class="c4"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 140.00px; height: 46.00px;"><img alt="" src="images/image7.png" style="width: 140.00px; height: 46.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span class="c1"></span></p><p class="c4"><span class="c1">From here I just need to find the flags which can be done with the locate command.</span></p><p class="c2"><span class="c1"></span></p><p class="c4"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 377.00px; height: 107.00px;"><img alt="" src="images/image2.png" style="width: 377.00px; height: 107.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c4"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 377.00px; height: 98.00px;"><img alt="" src="images/image4.png" style="width: 377.00px; height: 98.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span class="c1"></span></p><p class="c4"><span class="c1">I submit both flags and I am finished. This was way easier than I thought it would be.</span></p></body></html>